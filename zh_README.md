# å»ä¸­å¿ƒåŒ–ä¼—ç­¹å¹³å°

åŸºäºSolidityçš„æ™ºèƒ½åˆçº¦ç³»ç»Ÿï¼Œé›†æˆNFTå¥–åŠ±ä¸é“¾ä¸Šæ²»ç†æœºåˆ¶

## é¡¹ç›®æ¦‚è¿°
æœ¬ç³»ç»ŸåŒ…å«ä¸‰ä¸ªæ ¸å¿ƒæ™ºèƒ½åˆçº¦ï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š
- ğŸ‰ **å»ä¸­å¿ƒåŒ–ä¼—ç­¹**ï¼šæ”¯æŒé¡¹ç›®åˆ›å»ºã€èµ„é‡‘æèµ ã€æˆæœè¿½è¸ª
- ğŸ¨ **åŠ¨æ€NFTå¥–åŠ±**ï¼šå‰ç«¯ä»£ç ä¼šåœ¨é¡¹ç›®æˆåŠŸå®Œæˆçš„æ—¶å€™ä¼šå°†å‰äº”åæèµ è€…çš„åœ°å€ä¼ å…¥åˆ°åˆçº¦ä¸­ï¼Œåˆçº¦ä¼šè‡ªåŠ¨ç”Ÿæˆå¯æ”¶è—çš„è›‹ç³•ä¸»é¢˜NFTï¼Œå¹¶å°†å…¶å‘é€ç»™æèµ è€…ã€‚é¡¹ç›®åˆ›å§‹äººä¹Ÿå¯ä»¥ç›´æ¥ä¸åˆçº¦è¿›è¡Œäº¤äº’ä¼ å…¥æƒ³è¦é“¸é€ nftçš„åœ°å€ï¼Œåªè¦è¯¥åœ°å€åœ¨æèµ åå•ä¸­å³å¯
- ğŸ—³ï¸ **é“¾ä¸Šæ²»ç†**ï¼šææ¡ˆæœºåˆ¶å®ç°èµ„é‡‘ä½¿ç”¨é€æ˜åŒ–ç®¡ç†ï¼Œé¡¹ç›®åˆ›å§‹äººåœ¨é¡¹ç›®æˆåŠŸå®Œæˆçš„æ—¶å€™åªèƒ½ä½¿ç”¨æ€»å‹Ÿé›†é‡‘é¢çš„25%ï¼Œæƒ³è¦è·å¾—æ›´å¤šèµ„é‡‘çš„ä½¿ç”¨æƒå¿…é¡»å‘èµ·ææ¡ˆç”³è¯·å¢åŠ èµ„é‡‘ä½¿ç”¨é¢åº¦ã€‚å¦‚æœææ¡ˆè¿ç»­å¤±è´¥ä¸‰æ¬¡ä¹‹åé¡¹ç›®å°±ä¼šæ ‡è®°ä¸ºå¤±è´¥ï¼Œæèµ è€…å¯ä»¥å–å›è¯¥é¡¹ç›®ä¸­çš„ä½™é¢
- âš–ï¸ **åŒé‡ä¿éšœæœºåˆ¶**ï¼šé¡¹ç›®æˆåŠŸåçš„èµ„é‡‘é‡Šæ”¾ä¸å¤±è´¥åçš„è‡ªåŠ¨é€€æ¬¾

## æ ¸å¿ƒåˆçº¦

### 1. Crowdfunding ä¸»åˆçº¦
#### ä¸»è¦åŠŸèƒ½
- `createProject()` åˆ›å»ºæ–°é¡¹ç›®ï¼ˆåç§°/æè¿°/ç›®æ ‡/æˆªæ­¢æ—¥æœŸï¼‰
- `donate()` æ”¯æŒETHæèµ å¹¶æ›´æ–°æèµ æ’å
- `completeProject()` é¡¹ç›®ç»“æŸååˆ¤æ–­æ˜¯å¦è¾¾åˆ°é¢„æœŸç­¹æ¬¾çš„ç›®æ ‡ï¼š
  - âœ… æˆåŠŸï¼šé‡Šæ”¾25%èµ„é‡‘ + é“¸é€ NFT
  - âŒ å¤±è´¥ï¼šå¯åŠ¨é€€æ¬¾é€šé“
- `withdrawFunds()` é¡¹ç›®æ–¹åˆ†é˜¶æ®µæå–èµ„é‡‘ï¼ˆåˆå§‹å¯ä»¥æå–25%ä½œä¸ºå¯åŠ¨èµ„é‡‘ï¼Œä¹‹åè¿˜æƒ³æå–æ›´å¤šçš„èµ„é‡‘éœ€è¦å‘èµ·ææ¡ˆè¿›è¡ŒæŠ•ç¥¨ï¼‰
- `refund()` æèµ è€…èµå›èµ„é‡‘ï¼ˆé¡¹ç›®å¤±è´¥ä¹‹åå¯ä»¥å–å›ï¼‰

#### æ•°æ®ç»“æ„
```solidity
struct Project {
    uint id; // é¡¹ç›®å”¯ä¸€æ ‡è¯†
    address payable creator; // é¡¹ç›®å‘èµ·äººåœ°å€
    string name; // é¡¹ç›®åç§°
    string description; // é¡¹ç›®æè¿°
    uint goal; // ç­¹æ¬¾ç›®æ ‡é‡‘é¢
    uint deadline; // æˆªæ­¢æ—¥æœŸï¼ˆæ—¶é—´æˆ³ï¼‰
    uint currentAmount; // å½“å‰å‰©ä½™ç­¹æ¬¾æ€»é¢
    uint totalAmount; // é¡¹ç›®æ€»ç­¹æ¬¾é‡‘é¢
    uint allowence; //ææ¡ˆè€…å…è®¸ä½¿ç”¨çš„é‡‘é¢
    bool completed; // é¡¹ç›®æ˜¯å¦å·²ç»“æŸ
    bool isSuccessful; // é¡¹ç›®æ˜¯å¦æˆåŠŸ
}
```

### 2. CrowdfundingNFT åˆçº¦
#### NFTç‰¹æ€§
- ğŸ–¼ï¸ **åŠ¨æ€ç”ŸæˆSVG**ï¼šé€šè¿‡`createSvgNftFromSeed()`ç”Ÿæˆ7å±‚å‚æ•°çš„è›‹ç³•å›¾åƒ
- ğŸ“ **å…ƒæ•°æ®åŒ…å«**ï¼š
  - é¡¹ç›®ID
  - æèµ é‡‘é¢ 
  - æèµ æ’åï¼ˆ1-5ï¼‰å¦‚æœç”±å‰ç«¯ç›´æ¥è°ƒç”¨çš„è¯ï¼Œå¦åˆ™æŒ‰æ‰‹åŠ¨ä¼ å…¥é¡ºåºæ’åº
- ğŸ”’ **å®‰å…¨é“¸é€ **ï¼šä»…é¡¹ç›®åˆçº¦å¯è°ƒç”¨`mintNFT()`

#### è§†è§‰å…ƒç´ 
```solidity
struct CakeColors {
    string plateColor;         // é¤ç›˜é¢œè‰²
    string bottomColor;        // åº•å±‚è›‹ç³•
    string topColor;           // é¡¶å±‚è›‹ç³•
    string frostingColor;      // ç³–éœœé¢œè‰²
    string candleColor;        // èœ¡çƒ›é¢œè‰²
    string decorationsColor;   // è£…é¥°é¢œè‰²
    string icingSwirlsColor;   // ç³–è¡£æ—‹æ¶¡é¢œè‰²
}
```

### 3. ProposalGovernance æ²»ç†åˆçº¦
#### ææ¡ˆç”Ÿå‘½å‘¨æœŸ
1. **åˆ›å»ºææ¡ˆ** `createProposal()`
   - ä»…é¡¹ç›®å‘èµ·äºº
   - æ¯æ¬¡åªèƒ½å­˜åœ¨ä¸€ä¸ªæ´»è·ƒææ¡ˆ
   - æŠ•ç¥¨å‘¨æœŸ1-7å¤©

2. **æŠ•ç¥¨æœºåˆ¶** `voteOnProposal()`
   - âš–ï¸ æƒé‡ä¸æèµ é‡‘é¢æ­£ç›¸å…³
   - âœ… æ”¯æŒ/âŒ åå¯¹ç¥¨åˆ†ç¦»ç»Ÿè®¡ï¼Œæ”¯æŒçš„é‡‘é¢å æ€»æŠ•ç¥¨é‡‘é¢çš„60%è¯¥ææ¡ˆå°±ç®—é€šè¿‡ï¼Œå¢åŠ é¡¹ç›®å¯ç”¨èµ„é‡‘é¢åº¦
   - ğŸ•’ åªæœ‰æˆªæ­¢æ—¶é—´åˆ°äº†æ‰èƒ½ç»“æŸè¯¥ææ¡ˆ

3. **ææ¡ˆæ‰§è¡Œ** `executeProposal()`
   - é€šè¿‡ï¼šå¢åŠ é¡¹ç›®å¯ç”¨èµ„é‡‘é¢åº¦
   - æ‹’ç»ï¼šç´¯è®¡å¤±è´¥æ¬¡æ•°ï¼Œ3æ¬¡å¤±è´¥è§¦å‘é¡¹ç›®ç»ˆæ­¢

## å‰ç«¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **Next.js 14** (App Router æ¨¡å¼)
- **Wagmi v2** + **RainbowKit** é’±åŒ…è¿æ¥
- **Tailwind CSS** æ ·å¼æ¡†æ¶
- **react-hot-toast** é€šçŸ¥ç³»ç»Ÿ

### æ ¸å¿ƒæ¨¡å—
```
app/
â”œâ”€â”€ create-project/     # é¡¹ç›®åˆ›å»ºé¡µ
â”œâ”€â”€ project/[id]/       # é¡¹ç›®è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ proposals/      # ææ¡ˆå­ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ [proposalId]/ # ææ¡ˆè¯¦æƒ…é¡µ
â”‚   â”‚   â””â”€â”€ create/     # ææ¡ˆåˆ›å»ºé¡µ
â”œâ”€â”€ proposal/           # ææ¡ˆè¯¦æƒ…é¡µ
â”œâ”€â”€ layout.tsx          # å…¨å±€å¸ƒå±€
â”œâ”€â”€ page.tsx            # é¦–é¡µ
components/
â”œâ”€â”€ Header.tsx          # å¯¼èˆªæ ï¼ˆé›†æˆé’±åŒ…è¿æ¥ï¼‰
â”œâ”€â”€ HomePage.tsx        # é¡¹ç›®åˆ—è¡¨å¡ç‰‡ç»„ä»¶
â””â”€â”€ NFTBox.tsx          # NFTå±•ç¤ºç»„ä»¶ï¼ˆåŠ¨æ€SVGæ¸²æŸ“ï¼‰
utils/
â””â”€â”€ formatters.tsx      # é‡‘é¢æ ¼å¼åŒ–å·¥å…·ï¼ˆETHå•ä½è½¬æ¢ï¼‰
```

## éƒ¨ç½²ä¸äº¤äº’

### å‰ç½®æ¡ä»¶
- [Foundry](https://getfoundry.sh/) å¼€å‘ç¯å¢ƒ
- Solidity 0.8.0+
- [rindexer](https://rindexer.xyz/)é“¾ä¸Šç´¢å¼•å™¨ï¼ˆç›‘å¬åˆçº¦çš„äº‹ä»¶ï¼‰

### å‰ç«¯å¯åŠ¨æ¡ä»¶

1. **ç¯å¢ƒè¦æ±‚**
```bash
Node.js >= 18.x
npm >= 9.x æˆ– yarn >= 1.22.x
```

2. **å®‰è£…ä¾èµ–**
```bash
cd src/app && npm install
# æˆ–ä½¿ç”¨ yarn
yarn install
```

3. **ç¯å¢ƒå˜é‡é…ç½®**
åˆ›å»º .env.local æ–‡ä»¶å¹¶é…ç½®ï¼š
```env
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID="YOUR_PROJECT_ID"//é“¾æ¥é’±åŒ…çš„ç»„ä»¶éœ€è¦çš„é¡¹ç›®ID
NEXT_PUBLIC_GRAPHQL_API_URL="YOUR_GRAPHQL_API_URL||http://localhost:3001/graphql"
```

4. **å¼€å‘æ¨¡å¼å¯åŠ¨**
```bash
npm run dev
# æˆ–
yarn dev
```

### éƒ¨ç½²æ­¥éª¤(è„šæœ¬åœ¨foundry/script/deploy.s.sol)
1. éƒ¨ç½²NFTåˆçº¦ï¼š
```bash
forge create CrowdfundingNFT --constructor-args "CrowdfundingNFT" "CFNFT"
```

1. éƒ¨ç½²ä¸»åˆçº¦ï¼š
```bash
forge create Crowdfunding
```

1. éƒ¨ç½²æ²»ç†åˆçº¦ï¼š
```bash
forge create ProposalGovernance --constructor-args <Crowdfundingåˆçº¦åœ°å€>
```

1. è®¾ç½®åˆçº¦å…³è”ï¼š
```solidity
// è®¾ç½®ä¼—ç­¹åˆçº¦çš„NFTåœ°å€
crowdfunding.setNFTContractAddress(nftAddress);
// è®¾ç½®NFTåˆçº¦çš„ownerä¸ºä¼—ç­¹åˆçº¦è¿™æ ·ï¼Œé¡¹ç›®å‘èµ·è€…å°±å¯ä»¥æ§åˆ¶nftçš„ç”Ÿæˆï¼Œä»è€Œæ§åˆ¶é¡¹ç›®çš„æˆåŠŸå’Œå¤±è´¥ã€‚
nft.transferOwnership(address(crowdfunding));
// è®¾ç½®ææ¡ˆåˆçº¦åœ°å€
crowdfunding.setProposalAddress(governanceAddress);
```

## ä½¿ç”¨ç¤ºä¾‹
### å¯åŠ¨é¡¹ç›®
1. npm run dev å¯åŠ¨å‰ç«¯é¡µé¢
2. anvil --load-state Crowdfunding-anvil.json å¯åŠ¨æ¨¡æ‹Ÿç¯å¢ƒ,åˆçº¦å·²ç»éƒ¨ç½²åœ¨Crowdfunding-anvil.jsonç¯å¢ƒä¸­
3. è¿›å…¥rindexeræ–‡ä»¶å¤¹ä¸­å¯åŠ¨ rindexer start all å¯åŠ¨é“¾ä¸Šç´¢å¼•å™¨ç›‘å¬äº‹ä»¶å¹¶å°†å…¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­
4. å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ä¿®æ”¹anvilçš„åŒºå—æ—¶é—´ã€‚86400ç§’ä¸ºä¸€å¤©
```bash
curl -H "Content-Type: application/json" -X POST --data '{
    "jsonrpc":"2.0",
    "method":"evm_increaseTime",
    "params":[86400],  
    "id":1
}' http://localhost:8545
```
### åˆ›å»ºé¡¹ç›®


### æèµ å‚ä¸


### åˆ›å»ºèµ„é‡‘ææ¡ˆ


## å®‰å…¨æœºåˆ¶
- ğŸ” ä»…Ownerå¯è®¾ç½®å…³é”®åˆçº¦åœ°å€
- â³ ææ¡ˆè¶…æ—¶è‡ªåŠ¨å¤±æ•ˆ
- ğŸ›‘ ä¸‰æ¬¡ææ¡ˆå¤±è´¥è‡ªåŠ¨è§¦å‘é€€æ¬¾
- ğŸ’¸ èµ„é‡‘æå–éœ€é€šè¿‡allowenceé¢åº¦æ§åˆ¶

## äº‹ä»¶ç›‘æ§
```solidity
// é¡¹ç›®äº‹ä»¶
event ProjectCreated(
    uint indexed id,
    address indexed creator,
    string name,
    string description,
    uint goal,
    uint deadline
);
event DonationMade(
    uint indexed id,
    address indexed donor,
    uint amount,
    uint currentAmount
);
event ProjectCompleted(uint indexed id, bool isSuccessful);
event FundsWithdrawn(uint indexed id, address indexed account, uint amount);
event AllowenceIncreased(uint indexed id, uint allowence);
event ProjectFailed(uint indexed id);

// NFTäº‹ä»¶
event CreatedNFT(uint indexed tokenId);
event NFTMinted(
    uint indexed id,
    address indexed recipient,
    uint indexed tokenId,
    uint rank,
    uint donationAmount
);

// æ²»ç†äº‹ä»¶
event ProposalCreated(
    uint indexed projectId,
    uint indexed proposalId,
    string description,
    uint amount,
    uint voteDeadline
);
event Voted(
    uint indexed projectId,
    uint indexed proposalId,
    address indexed voter,
    bool support,
    uint amount
);
event ProposalExecuted(
    uint indexed projectId,
    uint indexed proposalId,
    bool passed
);
```
### å¯¹é¡¹ç›®çš„ä¸€äº›åæ€
1. è™½ç„¶å¯¹é¡¹ç›®çš„å‘èµ·è€…æå–é¡¹ç›®çš„èµ„é‡‘æœ‰äº†ä¸€å®šçš„é™åˆ¶ï¼Œä½†é¡¹ç›®å‘èµ·è€…ä»ç„¶å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒçš„åœ°å€ï¼Œå‘è¯¥é¡¹ç›®æèµ è¶…è¿‡60%çš„æèµ é‡‘é¢ï¼Œä»è€ŒæŒæ§é¡¹ç›®çš„æŠ•ç¥¨æƒï¼Œè¾¾åˆ°æ§åˆ¶é¡¹ç›®èµ„é‡‘æˆæƒçš„ç›®çš„ã€‚è¿™æ ·çš„è¡Œä¸ºä¼šå¯¼è‡´å–„æ„çš„æèµ è€…çš„èµ„é‡‘è¢«çªƒå–ã€‚æ˜¯å¦éœ€è¦ä¸€ä¸ªä¸­å¿ƒåŒ–å®ä½“æ¥æ§åˆ¶é¡¹ç›®çš„æˆåŠŸå’Œå¤±è´¥ï¼Œé˜»æ­¢æ¶æ„é¡¹ç›®å‘èµ·è€…çªƒå–é¡¹ç›®èµ„é‡‘å‘¢ï¼Ÿ
2. ç”±äºåœ¨å‘èµ·é¡¹ç›®å’Œå‘èµ·ææ¡ˆçš„æ—¶å€™éœ€è¦æŠŠæè¿°å†™åˆ°é“¾ä¸Šï¼Œæ‰€ä»¥å¦‚æœæè¿°è¿‡é•¿çš„è¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´gasè´¹è¿‡å¤šï¼Œå¯¼è‡´é¡¹ç›®å‘èµ·æ–¹çš„èµ„é‡‘è¢«è¿‡åº¦æ¶ˆè€—ã€‚æ˜¯ä¸æ˜¯å¯ä»¥å°†é¡¹ç›®çš„æè¿°å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œé€šè¿‡ipfsæˆ–è€…å…¶ä»–å»ä¸­å¿ƒåŒ–å­˜å‚¨æ–¹æ¡ˆæ¥å­˜å‚¨æè¿°ï¼Œå‡å°‘gasè´¹ã€‚åœ¨é“¾ä¸Šåªç”¨å­˜å‚¨æè¿°çš„hashå€¼ï¼Œé€šè¿‡ipfsæˆ–è€…å…¶ä»–å»ä¸­å¿ƒåŒ–å­˜å‚¨æ–¹æ¡ˆæ¥è·å–å¹¶éªŒè¯æè¿°ã€‚è¿™æ ·å¯ä»¥é™ä½gasè´¹çš„æ¶ˆè€—ã€‚
3. é¡¹ç›®åˆ›å§‹äººå¯ä»¥åœ¨ä¼—ç­¹é¡¹ç›®æˆåŠŸç»“æŸçš„æ—¶å€™ä¼ å…¥è‡ªå·±æƒ³è¦é“¸é€ nftçš„åœ°å€ï¼Œä¼—ç­¹åˆçº¦ä¼šæ ¹æ®ä¼ å…¥çš„åœ°å€å°†nft mintç»™è¯¥åœ°å€ã€‚å¦‚æœé¡¹ç›®å‘èµ·æ–¹ç»•è¿‡å‰ç«¯ç›´æ¥ä¸åˆçº¦è¿›è¡Œäº¤äº’ï¼Œé‚£ä¹ˆé¡¹ç›®å‘èµ·æ–¹æœ‰å¯èƒ½åˆ›å»ºå¤šä¸ªåªæèµ å°‘é‡é‡‘é¢çš„åœ°å€æ¥æèµ é¡¹ç›®ï¼Œä¹‹ååªå‘è¿™äº›åœ°å€è¿›è¡Œnft mintï¼Œæèµ é‡‘é¢å‰å‡ åçš„åœ°å€å´æ²¡æœ‰è·å¾—nftçš„å¥–åŠ±ã€‚ä¸è¿‡è¿™äº›æèµ å¤§é‡é‡‘é¢çš„åœ°å€å¯ä»¥æŒæ§é¡¹ç›®çš„æŠ•ç¥¨æƒï¼Œä»è€Œéåˆ¶é¡¹ç›®å‘èµ·äººçš„æ¶æ„è¡Œä¸ºã€‚æˆ–è€…ä¹Ÿå¯ä»¥åœ¨é“¸é€ nftçš„æ—¶å€™æ·»åŠ æœ€å°æèµ é‡‘é¢é™åˆ¶ï¼Œåªæœ‰æèµ é‡‘é¢è¾¾åˆ°æœ€å°æèµ é‡‘é¢åæ‰èƒ½è·å¾—nftã€‚
4. æœ‰äº›å‰ç«¯çš„è®¡ç®—å’ŒæŸ¥è¯¢å…¶å®æ˜¯ä¸å¿…è¦çš„ï¼Œå®Œå…¨å¯ä»¥é€šè¿‡æ•°æ®åº“çš„æ“ä½œè¿›è¡Œå®Œæˆï¼Œå‰ç«¯åªéœ€è¦ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®åº“æ•´åˆä¹‹åçš„æ•°æ®å³å¯ï¼Œä½†æ˜¯è¿™ä¸ªé¡¹ç›®æ˜¯ä½œä¸ºå­¦ä¹ é¡¹ç›®ï¼Œæ‰€ä»¥ä¸ºäº†æ–¹ä¾¿ç†è§£å¹¶ä¸”ç”±äºæ—¶é—´çš„åŸå› ï¼Œæˆ‘ä½¿ç”¨äº†å‰ç«¯çš„è®¡ç®—å’ŒæŸ¥è¯¢ï¼Œæ²¡æœ‰å¯¹æ•°æ®åº“ä¸­çš„å†…å®¹åšè¿›ä¸€æ­¥çš„æ•´åˆã€‚

## ç¯å¢ƒè¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

- [Node (>= v20.18.3)](https://nodejs.org/en/download/)
- Yarn ([v1](https://classic.yarnpkg.com/en/docs/install/) æˆ– [v2+](https://yarnpkg.com/getting-started/install))
- [Git](https://git-scm.com/downloads)

## å¿«é€Ÿå¼€å§‹

è¦å¼€å§‹ä½¿ç”¨æœ¬é¡¹ç›®ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. å¦‚æœåœ¨CLIä¸­è·³è¿‡äº†å®‰è£…ä¾èµ–é¡¹ï¼Œè¯·å®‰è£…ä¾èµ–é¡¹ï¼š

```
cd my-dapp-example
yarn install
```

2. åœ¨ç¬¬ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œæœ¬åœ°ç½‘ç»œï¼š

```
yarn chain
```

è¯¥å‘½ä»¤ä½¿ç”¨Foundryå¯åŠ¨æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œã€‚ç½‘ç»œåœ¨æ‚¨çš„æœ¬åœ°æœºå™¨ä¸Šè¿è¡Œï¼Œå¯ç”¨äºæµ‹è¯•å’Œå¼€å‘ã€‚æ‚¨å¯ä»¥è‡ªå®šä¹‰`packages/foundry/foundry.toml`ä¸­çš„ç½‘ç»œé…ç½®ã€‚

3. åœ¨ç¬¬äºŒä¸ªç»ˆç«¯ä¸­ï¼Œéƒ¨ç½²æµ‹è¯•åˆçº¦ï¼š

```
yarn deploy
```

è¯¥å‘½ä»¤å°†ä¼—ç­¹æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œã€‚åˆçº¦ä½äº`packages/foundry/contracts`ä¸­ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚[yarn deploy]å‘½ä»¤ä½¿ç”¨ä½äº`packages/foundry/script`ä¸­çš„éƒ¨ç½²è„šæœ¬æ¥å°†åˆçº¦éƒ¨ç½²åˆ°ç½‘ç»œã€‚

4. åœ¨ç¬¬ä¸‰ä¸ªç»ˆç«¯ä¸­ï¼Œå¯åŠ¨æ‚¨çš„NextJSåº”ç”¨ç¨‹åºï¼š

```
yarn start
```

è®¿é—®æ‚¨çš„åº”ç”¨ç¨‹åºï¼š`http://localhost:3000`ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å„ä¸ªé¡µé¢ä¸æ‚¨çš„æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤äº’ã€‚æ‚¨å¯ä»¥åœ¨`packages/nextjs/scaffold.config.ts`ä¸­è°ƒæ•´åº”ç”¨ç¨‹åºé…ç½®ã€‚

ä½¿ç”¨`yarn foundry:test`è¿è¡Œæ™ºèƒ½åˆçº¦æµ‹è¯•

- åœ¨`packages/foundry/src`ä¸­ç¼–è¾‘æ‚¨çš„æ™ºèƒ½åˆçº¦
- åœ¨`packages/nextjs/app/page.tsx`ä¸­ç¼–è¾‘æ‚¨çš„å‰ç«¯ä¸»é¡µ
- åœ¨`packages/foundry/script`ä¸­ç¼–è¾‘æ‚¨çš„éƒ¨ç½²è„šæœ¬